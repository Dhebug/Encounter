;
; Here is the current documentation for the description script.
; - This file describes what goes on the floppy itself, list of files, boot sectors, locations, ...
; - The result is stored in a description file which along with the loader code allows the user to load data.
;
; Syntax:
; - Anything at the right of a ; is ignored (commented out)
; - {FileIndex} is replaced at generation time by the current internal file index, practical for defines generation
;
; Things to do:
; - Be able to define the format of the floppy we want in this file (number of tracks, sectors, sizes)
; - Suppress the need for a source floppy to clone from
; - Have a 0/1 parameter for the multiple calls to the tool, with only the last one needing the files
; - Support for tap files (auto-detect loading area)
; - Support for file compression in the tool
; - Possibility to do partial loads, saves, depacking in realtime
;
;LoadDiskTemplate default.dsk
DefineDisk 2 42 17							; 2 sides, 42 tracks, 17 sectors

OutputLayoutFile floppy_description.h
OutputFloppyFile ..\build\OASIS.dsk

;AddDefine LOADER_SHOW_DEBUGINFO 1
;AddDefine ENABLE_TIMING_DEBUGGING 1

;
; This defines the bootsectors to use for the various operating systems
; - Jasmin loads the sector 1 of track zero in $400 and then runs it.
; - Microdisc loads the sector 2 of track zero, the address is different on Atmos and Telestrat
; - The system requires a third sector containing valid data
;
; Since we do not yet have a valid Jasmin reading code, all this bootsector will do is to 
; write a message saying that this floppy needs to be booted on a Microdisc compatible system.
;
SetPosition 0 1
WriteSector ..\build\files\sector_1-jasmin.o 		; Sector 1
WriteSector ..\build\files\sector_2-microdisc.o 	; Sector 2
WriteSector ..\build\files\sector_3.o 				; Sector 3

;
; Now here is the loader code, that one is Microdisc only
;
SetPosition 0 4
AddFile ..\build\files\loader.o $fc00 				; Sector 4

;
; From now on we compress data (The loader should not be compressed)
;
SetCompressionMode FilePack 						; So far only two modes: 'None' and 'FilePack'

;
; Then the files used in the demo
;
AddDefine LOADER_PROGRAM_FIRST {FileIndex}
AddFile ..\build\final.out $c000			; The "First program" picture

AddDefine LOADER_TABLES {FileIndex}
AddFile ..\build\files\tables.o $400			; The "First program" picture



; Global resources
AddDefine LOADER_SCRIPT0 {FileIndex}
AddFile ..\build\files\script_0.o $dead		
AddDefine LOADER_SCRIPT1 {FileIndex}
AddFile ..\build\files\script_1.o $dead	
AddDefine LOADER_SCRIPT2 {FileIndex}
AddFile ..\build\files\script_2.o $dead			
AddDefine LOADER_STRINGS {FileIndex}
AddFile ..\build\files\string_main.o $dead
		
AddDefine LOADER_OBJBLAKE {FileIndex}
AddFile ..\build\files\obj_blake.o $dead		

AddDefine LOADER_COSBLAKE {FileIndex}
AddFile ..\build\files\cos_blake.o $dead	
AddDefine LOADER_COSJENNA {FileIndex}
AddFile ..\build\files\cos_jenna.o $dead	
AddDefine LOADER_COSCAMERA {FileIndex}
AddFile ..\build\files\cos_camera.o $dead	
AddDefine LOADER_COSGUARD {FileIndex}
AddFile ..\build\files\cos_guard.o $dead
AddDefine LOADER_COSTECHCAM {FileIndex}
AddFile ..\build\files\cos_techcam.o $dead
AddDefine LOADER_COSTMAN {FileIndex}
AddFile ..\build\files\cos_man.o $dead
AddDefine LOADER_COSTMAN2 {FileIndex}
AddFile ..\build\files\cos_man2.o $dead
AddDefine LOADER_COSTRAVIS {FileIndex}
AddFile ..\build\files\cos_travis.o $dead
AddDefine LOADER_COSSERVALAN {FileIndex}
AddFile ..\build\files\cos_servalan.o $dead


AddDefine LOADER_OCODEGUARD {FileIndex}
AddFile ..\build\files\ocode_guard.o $dead	
AddDefine LOADER_OCODESANDWICH {FileIndex}
AddFile ..\build\files\ocode_sandwich.o $dead	
AddDefine LOADER_OCODEMUG {FileIndex}
AddFile ..\build\files\ocode_mug.o $dead	
AddDefine LOADER_OCODEKEY {FileIndex}
AddFile ..\build\files\ocode_key.o $dead	
AddDefine LOADER_OCODELAXATIVE {FileIndex}
AddFile ..\build\files\ocode_laxative.o $dead	
AddDefine LOADER_OCODECOIN {FileIndex}
AddFile ..\build\files\ocode_coin.o $dead	
AddDefine LOADER_OCODEDECAF {FileIndex}
AddFile ..\build\files\ocode_decaf.o $dead	
AddDefine LOADER_OCODEMAP {FileIndex}
AddFile ..\build\files\ocode_map.o $dead	
AddDefine LOADER_OCODETECHCAM {FileIndex}
AddFile ..\build\files\ocode_techcam.o $dead	
AddDefine LOADER_OCODEMAN {FileIndex}
AddFile ..\build\files\ocode_man.o $dead	


AddDefine LOADER_MAINTHEME {FileIndex}
AddFile ..\build\files\main_theme.o $dead		


; Rooms
AddDefine LOADER_ROOM0 {FileIndex}
AddFile ..\build\files\room_intro.o $dead
AddDefine LOADER_ROOM1 {FileIndex}
AddFile ..\build\files\room_episode1.o $dead		
AddDefine LOADER_ROOM2 {FileIndex}
AddFile ..\build\files\room_blakesroom.o $dead		
AddDefine LOADER_ROOM3 {FileIndex}
AddFile ..\build\files\room_dchallway.o $dead	
AddDefine LOADER_ROOM4 {FileIndex}
AddFile ..\build\files\room_foyerA.o $dead	
AddDefine LOADER_ROOM5 {FileIndex}
AddFile ..\build\files\room_maproom.o $dead
AddDefine LOADER_ROOM6 {FileIndex}
AddFile ..\build\files\room_infoarea.o $dead
AddDefine LOADER_ROOM7 {FileIndex}
AddFile ..\build\files\room_servicecorr.o $dead
AddDefine LOADER_ROOM8 {FileIndex}
AddFile ..\build\files\room_serviceexit.o $dead
AddDefine LOADER_ROOM9 {FileIndex}
AddFile ..\build\files\room_nursery.o $dead
AddDefine LOADER_ROOM10 {FileIndex}
AddFile ..\build\files\room_camcontrol.o $dead
AddDefine LOADER_ROOM11 {FileIndex}
AddFile ..\build\files\room_exterior.o $dead
AddDefine LOADER_ROOM12 {FileIndex}
AddFile ..\build\files\room_guilty.o $dead
AddDefine LOADER_ROOM13 {FileIndex}
AddFile ..\build\files\room_locker.o $dead

;
; Some reserved sectors
;
;ReserveSectors 6                                    ; 5 sectors

;
; The pictures
;
;AddDefine LOADER_PICTURE_FIRSTPROGRAM {FileIndex}
;AddFile ..\build\files\FirstProgram.hir $a000
;AddDefine LOADER_PICTURE_FIRSTPROGRAM_SIZE {FileSize}

;AddDefine LOADER_PICTURE_SECONDPROGRAM {FileIndex}
;AddFile ..\build\files\SecondProgram.hir $a000
;AddDefine LOADER_PICTURE_SECONDPROGRAM_SIZE {FileSize}


