;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; Generated by OASIS compiler
; (c) Chema 2016
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;


; String pack 37
.(
.byt RESOURCE_STRING
.word (res_end-res_start +4)
.byt 37
res_start
.asc "I have never seen something like that.",0 ; String 0
.asc "It seems to use some kind of mind",0 ; String 1
.asc "trick to neutralize the menace. ",0 ; String 2
.asc "I have to do something or they'll be",0 ; String 3
.asc "lost forever!",0 ; String 4
.asc "That won't work.",0 ; String 5
.asc "I don't understand!",0 ; String 6
.asc "Ouch!",0 ; String 7
.asc "Are you trying to kill me?",0 ; String 8
.asc "Let me doit by myself, will you?",0 ; String 9
.asc "I don't have a projectile.",0 ; String 10
res_end
.)

; Object Code 37
.(
.byt RESOURCE_OBJECTCODE
.word (res_end-res_start +4)
.byt 37
res_start
; Response table
.byt VERB_LOOKAT
.word (l_LookAt-res_start)
.byt VERB_USE
.word (l_Use-res_start)
.byt $ff ; End of response table
l_LookAt
.byt SC_CURSOR_ON
.byt 0
.byt SC_ASSIGN, 64, 200	; i=0
.byt 0
l_loop
.byt SC_ACTOR_TALK
.byt 0
.byt 37
.byt SF_GETVAL,64, 200	; i
.byt SC_WAIT_FOR_ACTOR
.byt 0
.byt SC_ASSIGN, 64, 200	; i=i+1
.byt SF_ADD
.byt SF_GETVAL,64, 200	; i
.byt 1
; if
.byt SC_JUMP_REL_IF, SF_NOT
.byt SF_LE
.byt SF_GETVAL,64, 200	; i
.byt 4
.byt 11
; then part
.byt SC_JUMP
.word (l_loop-res_start)
.byt SC_CURSOR_ON
.byt 1
.byt SC_STOP_SCRIPT
l_Use
; if
.byt SC_JUMP_REL_IF, SF_NOT
.byt SF_EQ
.byt SF_GET_ACTIONOBJ1
.byt 37
.byt 13
; then part
.byt SC_ACTOR_TALK
.byt 0
.byt 37
.byt 6
.byt SC_WAIT_FOR_ACTOR
.byt 0
.byt SC_STOP_SCRIPT
; if
.byt SC_JUMP_REL_IF, SF_NOT
.byt SF_NOT, SF_EQ
.byt SF_GET_ACTIONOBJ1
.byt 34
.byt 14
; then part
.byt SC_ACTOR_TALK
.byt 0
.byt 37
.byt 5
.byt SC_WAIT_FOR_ACTOR
.byt 0
.byt SC_STOP_SCRIPT
; if
.byt SC_JUMP_REL_IF, SF_NOT
.byt SF_NOT
.byt SF_IS_OBJINVENTORY
.byt 32
.byt 13
; then part
.byt SC_ACTOR_TALK
.byt 0
.byt 37
.byt 10
.byt SC_WAIT_FOR_ACTOR
.byt 0
.byt SC_STOP_SCRIPT
.byt SC_CURSOR_ON
.byt 0
.byt SC_SET_COSTUME
.byt 0
.byt 14
.byt 0
.byt SC_SET_ANIMSTATE
.byt 0
.byt 5
.byt SC_DELAY
.byt 5
.byt SC_SET_ANIMSTATE
.byt 0
.byt 6
.byt SC_DELAY
.byt 5
.byt SC_SET_ANIMSTATE
.byt 0
.byt 7
.byt SC_DELAY
.byt 5
l_shot
.byt SC_ASSIGN, 64, 200	; i=sfGetCurrentRoom()
.byt SF_GET_CURROOM
.byt SC_ASSIGN, 64, 201	; row=sfGetRow(37)
.byt SF_GET_ROW
.byt 37
.byt SC_ASSIGN, 64, 202	; col=sfGetCol(0)+1
.byt SF_ADD
.byt SF_GET_COL
.byt 0
.byt 1
.byt SC_SET_OBJECT_POS
.byt 64, 250
.byt SF_GETVAL,64, 200	; i
.byt SF_GETVAL,64, 201	; row
.byt SF_GETVAL,64, 202	; col
.byt SC_SET_ANIMSTATE
.byt 0
.byt 5
l_loopp
.byt SC_DELAY
.byt 2
.byt SC_ASSIGN, 64, 202	; col=col+1
.byt SF_ADD
.byt SF_GETVAL,64, 202	; col
.byt 1
.byt SC_SET_OBJECT_POS
.byt 64, 250
.byt SF_GETVAL,64, 200	; i
.byt SF_GETVAL,64, 201	; row
.byt SF_GETVAL,64, 202	; col
; if
.byt SC_JUMP_REL_IF, SF_NOT
.byt SF_LT
.byt SF_GETVAL,64, 202	; col
.byt SF_SUB
.byt SF_GET_COL
.byt 37
.byt 4
.byt 14
; then part
.byt SC_JUMP
.word (l_loopp-res_start)
.byt SC_SET_COSTUME
.byt 0
.byt 0
.byt 0
.byt SC_SET_ANIMSTATE
.byt 0
.byt 0
.byt SC_DELAY
.byt 2
; if
.byt SC_JUMP_REL_IF, SF_NOT
.byt SF_EQ
.byt SF_GET_ANIMSTATE
.byt 37
.byt 0
.byt 16
; then part
.byt SC_REMOVE_OBJECT
.byt 64, 250
.byt SC_SPAWN_SCRIPT
.byt 64, 211
.byt SC_REMOVE_FROM_INVENTORY
.byt 32
.byt SC_STOP_SCRIPT
.byt SC_ASSIGN, 5	; nFailsCatapult=nFailsCatapult+1
.byt SF_ADD
.byt SF_GETVAL,5	; nFailsCatapult
.byt 1
.byt SC_PLAYSFX
.byt 12
l_looppb
.byt SC_ASSIGN, 64, 202	; col=col-1
.byt SF_SUB
.byt SF_GETVAL,64, 202	; col
.byt 1
.byt SC_SET_OBJECT_POS
.byt 64, 250
.byt SF_GETVAL,64, 200	; i
.byt SF_GETVAL,64, 201	; row
.byt SF_GETVAL,64, 202	; col
.byt SC_DELAY
.byt 2
; if
.byt SC_JUMP_REL_IF, SF_NOT
.byt SF_GT
.byt SF_GETVAL,64, 202	; col
.byt SF_GET_COL
.byt 0
.byt 12
; then part
.byt SC_JUMP
.word (l_looppb-res_start)
.byt SC_SET_OBJECT_POS
.byt 64, 250
.byt SF_GETVAL,64, 200	; i
.byt SF_GETVAL,64, 201	; row
.byt 64, 100
.byt SC_ACTOR_TALK
.byt 0
.byt 37
.byt 7
.byt SC_WAIT_FOR_ACTOR
.byt 0
; if
.byt SC_JUMP_REL_IF, SF_NOT
.byt SF_GT
.byt SF_GETVAL,5	; nFailsCatapult
.byt 3
.byt 59
; then part
.byt SC_LOOK_DIRECTION
.byt 0
.byt 3
.byt SC_ACTOR_TALK
.byt 0
.byt 37
.byt 8
.byt SC_WAIT_FOR_ACTOR
.byt 0
.byt SC_ACTOR_TALK
.byt 0
.byt 37
.byt 9
.byt SC_WAIT_FOR_ACTOR
.byt 0
.byt SC_LOOK_DIRECTION
.byt 0
.byt 0
.byt SC_SET_COSTUME
.byt 0
.byt 14
.byt 0
.byt SC_SET_ANIMSTATE
.byt 0
.byt 5
.byt SC_DELAY
.byt 5
.byt SC_SET_ANIMSTATE
.byt 0
.byt 6
.byt SC_DELAY
.byt 5
.byt SC_SET_ANIMSTATE
.byt 0
.byt 7
.byt SC_DELAY
.byt 5
l_loopw
.byt SC_BREAK_HERE
; if
.byt SC_JUMP_REL_IF, SF_NOT
.byt SF_NOT, SF_EQ
.byt SF_GET_ANIMSTATE
.byt 37
.byt 2
.byt 11
; then part
.byt SC_JUMP
.word (l_loopw-res_start)
.byt SC_JUMP
.word (l_shot-res_start)
.byt SC_CURSOR_ON
.byt 1
.byt SC_STOP_SCRIPT
res_end
.)
