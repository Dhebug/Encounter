
- Enemies allways fire you at the same position in the frame

- Adapt the ship diameter (size) from the data to the scaled-down versions generated by modelimport (see out.txt in the modelimport folder).

- PROBLEM: Seems that rotating 3 degrees is too much for easy targeting the enemy!!! That requires modifications in the engine for the player!!!

- Cannot add color if the frame is in pixel 5. If it is not, the frame should be drawn at every screen dump?

- Implement a save/load screen

- Check and manage fuel

- Buy/manage equipment

- Create enemies dynamically

- Missiles should not destroy planets... (should never target them!). Is this solved now?

- Complete AI

- Implement ECM for missiles

- Remove inflight messages afer jumping/docking...

- Update ship's energy, in a timely manner and to maximum when dock (or before leaving the planet)

- Scooping is implemented, but it seems that randomly creating the loot harldy creates anything (not even plates). 
Don't know what is going on here... should check. UPDATE: Seems OK now (but still prob is low).

- When your ship is destroyed, sometimes everything seems to hung. No apparent reason, but maybe too many objects? 
Seems not quite probable. Hard to make this repeatable.

- damage_ship needs a look... it is quite a disaster. DONE. Also modified damage_player to be sure to decouple it...

- I am not sure when, but sometimes increment_kills is called with wrong parameters and fails... Target the ADDER and destroy it when nearby to see. Maybe it was because of the lack of memory? reducing MAXSHIPS to 10 seems to have solved this. SOLVED?

- The first time we go back from a text screen to space view, the three lines of text go black paper. Also sometimes @ chars appear... Too low on memory?, but why if we are not creating new objects? Maybe we are copying more lines than necessary for drawing the cockpit?

- Our explosion is not quite good... be sure to launch splinters, at least... Ok now it allways launches splinters, but need more MAXOBJS to work. 10 are too low.

- If we are to use Fore and Aft shields, we need to modify damage_ship so something (like the carry flag)
indicates if the damaging ship is in front or not. It is necessary because of missiles (in which the register Y
indicates the launcher).

- Avoid scooping alloys when dying.

- Rotation of stars is wrong. ROTATEP and ROTATEN rotate just one step. Need to loop g_alpha times.

- Modified back tinefuncs.s MoveCurrent so it does
    jsr check_maxman
    sta _rotXXXX,x

	This was commented out, I don't know why. This is the preferred behaviour in Elite (from TNK: rotate 1 amount per turn, and keep track of how much is left).

	Commented it back, so rotXXX keeps the value until told otherwise. Seems enemies are much more agile this way... Need to check.

- Flahses in red and yellow also happen when in screens different than FRONT_VIEW. This is buggy.

- Models seem too big. The first intro screen with the rotating COBRA starts overflowing after several minutes!

- After adding energy refill, speed gets back > 0 when dying. Need to add a game_over or player_dead variable to keep track of all this.

- Had to set HIRES mode from the INIST, as the copy of the charset was destroying data.

- Check missiles. When fired they seem to jump quite far from the launcher. Maybe speed is too high or they are moved too far.

- player-launched Missiles are too near sometimes, models are incorrectly drawn

- Compass is only updated if x,y changed, which is incorrect if changing from hollow to filled and
 viceversa. Also when comming from other screens it is sometimes not updated. Same reason?

- Refilling energy and shields in hyper jump is not a good idea... maybe filing shields or x2 to both could do

- Need to /2 the legal status at each jump or something...

- Energy seems to get a value >128, which becomes negative confusing the cockpit panel

- Bad initialization of planet_dist, permits a jump inmediately after launching

- Front shield (maybe rear too?) is not updated correctly (after jump). Going to another screen and getting
  back updates it.

- Are shields recharging?. Nope. If energy is negative (greater than 128) they don't recharge. Keep player maxen<128 is mandatory

- After galmap population race is wrong (change between galchart and sysinfo)

- At XEESLE you appear too far from planet (problems with wrapping). Seems solved now Zhigh is between $5 and $35, instead of $10 and $40

- Make stick tops larger 

- Again after destroying player system hangs... not enough memory to create ships? Seems corrected again.

- Still can jump right after launching...

- Fuel circle seems somewhat wrong, when it is 3.0LY planets at 2.4LY are outside. (?)

- When frame rate goes too low, skip frame drawing

- Ships still attack from too far. Lasers incorrectly drawn.

- Seems to be an error where a shield may become less than 0 or something like that,
and is never decremented again. Load saved game and let the viper hit you. You should
see it.

- Implement Escape Pod

- Escape pod should clean your status

- Check prices... ECM and Escape pod seem interchanged, according to what is 
said on the manual.

- After moving the laser origin and destination points for drawing to page 4, as they are not initialized, four erroneous lines appear at the first time space is draw.

- Check cirlce drawing. Uses tmp3 to decide if needs clipping or not, but internal vars use up to tmp7 ???

- Check the escape pod flags. When killing the ADDER it seems that _flags FLG_INNOCENT is not set (?)

- When drawing planets, if they are too close, maybe it is better not to draw them // if 0x6000/Z > 0xff then return  (too close to draw?)
Now they can't be

- A certain hysteresis would be needed to avoid planets appearing and disappearing as we rotate.
Changed to $ffff/(Z/2).

- In the manual it is said that we start with 100 Cr, as in the original version.
However I am starting with 200, such as in the speccy version?

- It's a bit quiet out there, isn't it... secure planets are quite... secure.
 Now pirates are created even with police around.

- Arrows for lists?

- Make Anacondas launch worms, instead of missiles. 
  Also missiles :)

- energy_bomb code is dumb. Maybe run through the object list setting EXPLODE as
  needed inside the routine energy_bomb (inside tineloop.s)

- Make asteroids rotate! 

- Ships that go too far, are made disappear. This is done in radar.s

- Missiles still eat up CPU cycles. Too many of them, I think.
Limit possible missiles at the same time, moreover for enemies, 
which launch 3-4 missiles in a row. "Missile Jammed".

- Add Extra maneuvrability item. If equipped, overwrite the table for rotation accelerations.
 Current values are good, maybe start with something a bit slower.

- Add prepare for landing at Diso, launching off messages to the cockpit.

- Move Energy Low message to a case in tineloop, and remove code to avoid sound.

- Optimize radar space. It needs 3 bytes per ship in radar (x,y,z) and double this size 
 for the second coordinate (x,0,z). Also 2 temporary buffers with the max ship number*2.
 This is a waste, as there won't be ever more than a bunch of detected objects at the 
 same time. Also move the temporary buffers to str_buffer, or something similar to save space.

- Added color.

- Sorted out text screens and organized code.

- Experienced two bugs, difficult to reproduce: one is somebody shooting at me out of sight, but 
 lasers comming from the screen center (due to the removal of the zeroing routine?). The
 second is that, after dying, once the game crashed with corrupted radar data and more...

- Unroll the 2 calls in ROTPROJ. Remove saving Z coords, only used in drawing compound
objects (for sorting oblets). 
Done but seems not too much of a gain.

- BUG: Check... launching all 4 missiles makes only the first work... the rest do not pursue
their objective (at least when loading game). Then, after it hits, then the second and
so forth. Even ttls were wong afterwards...

- Need some feedback of danger!!!

- Shuttles seem to be very hard to draw... need to check this.

- Bounties added, but it is quite a waste to use 2 bytes for just a couple of cases... Anyway the inflight message with
the bounty appears maybe too fast? Maybe even before the ship explodes!

- Optimize routines in cockpit messages... they use a lot of similar code.

- Compass code used to plot the dot is not the world's fastest.. a kind of bitmap would do MUCH better.

- BUG: After dying, if more objects are created after deleting the COBRA, then they get id=1, so treated as the player and probably fail there.
Need to add a GAMEOVER var... check for a comment saying GAMEOVER

- Vertices are initialized wrongly. Check CalcView in obj3d. Anyway it might be a good idea to create
a IsValid field, which could be set as invalid in CalcView and update it in DrawAllVis
Done, but not sure if it has some bugs yet.

- optimization in prepare_normals... cx, cy and cz are unsigned inside the loop. Can be done outside and sign saved in signcx, signcy signcz.
Done, now using SMULT

- When selecting planet or moon in compass and out of range, the dot appears for one frame.

- Snapping to planet does not always work in short chart

- Add circle at galactic chart too?

- Add option to change commander's name

- Add patch_circle_clip for TOP positions and make it work for long-chart too!

- When frame rate goes too high don't simulate all the time, or make a waiting loop

- Add Rock Hermits

- Is size of Vipers too high? Seems so... check. Changed, but not fully tested.

- Remove face fill-pattern from models and oobj3d... saving space.

- Only mil lasers should damage Cougar or Constrictor, and damage/4.

- NO enemy is created with anti-radar randomly...

- Add "right on commander" messages.

- Add something to jump further than 7 LY (maybe a new equipment + some mineral from 
asteroids -- dilithyum?) so we can reach unreachable worlds. 7.2 LY is enough in galaxy 5, for instance.
	Two new items (not for sale): a fuel optimizer (7.5ly) and dilithium processing to refuel from 
	splinters from asteroids.

- With new items, update missions so they appear as a price.


- Info on status page for mission 9 (generated at the end of mission 8 so the commander goes to Rianxe)
is not shown

- Constrictor mission is wrong. There is a missing string (3) as you end up in gal 5
at the same planet number than in gal 4...


+ Zantor mission seems very easy when started at launching from planet. 
Maybe put Zantor and bad guys nearer each other?

+ Maybe tweak some mission strings, now that they can be longer...

+ In Zantor mission maybe add an event in OnNewEncounter to display if Zantor docked or was killed, such
as in asteroids mission.

+ Model in the init screens get further and further slowly... ? Ok. No. The accumulation routines make
a roundoff error that actually makes the model smaller with time. Not sure what routine, should check.
If you make the orientation matrix again $40 0 0 0 $40 0 0 0 $40 0 0 0 0 0 0 0 0 0 it gets the correct
size again. This was not ocurring before????

Ok. There are roundoff errors. With the original sindelta/cosdelta tables, effects are different, but
exist. Should check if normalizing matrices is needed.

+ Optimizing drawing of radar? It is calling pixel_address several times, also code is shared between 
erase and draw and it is inlined...

+ Implement a Cargo screen

+ AddSpaceObject needs tmp0 pointing to a coordinate structure, but it is allways _PosX. 
Should we change this, or at least add another routine that loads the tmp0 pointer?

+ Elite TNK uses the current galactic seed (6bytes) to create planets. As this seed may be corrupt (whenever used for creating
a galactic chart or to find a planet), I will use the system's seed of 4 bytes (base for goatsoup).

+ When saving the laser vertex there is no check to see if it is not a ship (something like a planet)
         beq normal
         cmp #5           ; is it 1,2 or 4 ? Then planet, sun or moon
         bcc checkmin    ; skip max check
normal

+ Look in tineloop.s
notdocked
        jsr clr_hires
        jsr load_frame
        jsr _DrawFrameBorder   
        jsr _DoubleBuffOn
        jsr _FirstFrame

If DrawFrameBorder is called before load_frame there is a bug the second time we switch from screen2 to frontview (the frame is erased at the bottom).

+ Maybe implement dumping cargo?

+ Use for changing the object that sets the point of view?

+ Buying other ships?

+ Adding rear laser should be piece of cake

+ Add a new sfx for hit when no shields?

+ Force deleting a slot before being able to save to it ?

+ Snow on the scanner when readings erratic

+ When jumping to next galaxy, jump to planet closest to 96,96 (as in classic Elite)
 This destroyed the planet set for Constrictor mission.. Need to check this again.

+ More on radar code. Now it is generating the two points for the auxiliar buffer. This is a waste,
  as could be done within the copying loop.

+ Planet's radius seem wrong, according to planet's data... Some are very big, with radius of 3.7Km

+ Avoid landing if planet is not just ahead... maybe calculate real distance when too near? Maybe just check X and Y?

+ Dbugs idea here:
let say that from a particular orientation and velocity you can compute a vector

[13:55] <_Dbug_> this vector is a fixed point signed thing, that represents the increment in X/Y/Z to apply to a particular position to get to the new position in this particular direction at this particular speed
[13:56] <Chema> That is what it must be doing, if I am not wrong, for adding that vector to the object's centre position.
[13:56] <_Dbug_> Then there is no need for computing this vector if the angle or velocity does not change
[13:56] <_Dbug_> just need to add it each frame
[13:56] <_Dbug_> newpos=oldpos+incrementpos
[13:57] <_Dbug_> you need to recompute the move vector only if the orientation or the velocity changes
[13:58] <Chema> Something like keeping the vector for each ship and a flag indicating if it is still valid or not. If a ship rotates or accelerates/deccelerates it will become invalid. Else you apply the same calculation again.
[13:58] <_Dbug_> and if the velocity only changes, you can probably just scale the vector


If you had the list of ships distances relative to you, and the angle, you could just do a sin/cos rotation, like for drawing a circle 
[21:23] <_Dbug_> Actually if you had the angle, you could eliminate all the ships that cannot be seen trivially
[21:23] <Chema> The angle to all the ships? Don't have that. Should calculate it.
[21:23] <_Dbug_> and these two information could even be used by the onboard computer to select the nearest target
[21:24] <_Dbug_> advantage of that, is that you can for example just recompute one set of value for one ship at each frame
[21:24] <Chema> I have the position (16-bit integers) relative to me for each object.
[21:24] <_Dbug_> and then you could just easily draw that as pixels on the radar
[21:24] <_Dbug_> since the center of the radar is yourself
[21:24] <_Dbug_> all you have to do is x=cx+sin(angle_ship)*distanceship
[21:25] <_Dbug_> and y=cy+cos(angle_ship)*distanceship
[21:25] <Chema> I also need a second point at heigth 0, but it is doable. Problem is calculating the angle.


Something like that: http://www.xbox360achievements.org/game/dragon-age-origins/achievements/
[19:59] <_Dbug_> "Law Abiding: Complete the game without attacking the police"
[19:59] <_Dbug_> "Merchant: Made 500 credits by trading"
[19:59] <_Dbug_> "Tech addict: Bought all the possible equipment for the cobra"
[20:00] <_Dbug_> "Discoverer: Travelled to more than 10 systems"
[20:00] <_Dbug_> etc
[20:00] <_Dbug_> etc
[20:00] <Chema> hehe sounds quite good. At first sight I thought they were like missions completed or milestones reached... but this one is quite fun.
[20:00] <_Dbug_> On the status page you can even use that to compute some kind of 'game achievement percentage'
[20:02] <_Dbug_> Basically it's really just a matter of maintaining some counter and flags 



POSSIBLE NEW ADD-ONS:
+ Add joystic support (IJK) http://wiki.defence-force.org/doku.php?id=oric:hardware:ijk_drivers
+ Add an interdicting equip item?
+ Asteroids should not appear from hyperspace. Seems thet do.
+ Takes too long for ships to go to hyper... sometimes.


Fuel processing: mission 5, Untha gives. Would be better in a GalNavy mission, but I think there is no space.
Fuel optimizer, mission 10, Navy gives.

cash
score (rank)
galaxy
mission
status

