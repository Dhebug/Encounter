// 22-03-2011 prog to draw a grid (for viking game)
// 23-03-2011 create new drawgrid function
// 01-04-2011 create new drawtile functions and use compact code (char instead of int etc)
// 02-04-2011 routine to read keyboard
// 06-04-2011 cursor drawing correct
// 11-04-2011 request help from DBUG - bug in OSDK. Have banged head against wall for far too long!
// 14-04-2011 DBUG fixed OSDK bug! :-)
// 15-04-2011 tidied code up
// 15-04-2011 tiles as a global variable, (will be used everywhere)
// 16-04-2011 Changed numeric settings for board (0=blank, 1=attackers tile, 2=defenders tile, 3=kings tile)
// 16-04-2011 drawing players
// 17-04-2011 improving tile drawing (saving few bytes in each routine and having different styles)
// 19-04-2011 added flashscreen (to flash screen with desired color - e.g. GREEN for OK, RED for !OK)
// 19-04-2011 context sensitive piece selection
// 19-04-2011 canpiecemove function (can a selected piece MOVE or not?) 
// 21-04-2011 numerous bug-fixes to do with x,y co-ords vs north-south/east-west array positions
// 21-04-2011 brilliant arrow printing function (hover over one of your pieces and press 'P')
// 25-04-2011 fixed bugs in arrow printing routine and reduced code required (TOTAL 817 lines versus 957)
// 27-04-2011 fixed some other (all?) bugs in arrow printing routines (new, neater routines)
// 29-04-2011 saved a whole bunch of code (789 lines)
// 29-04-2011 changed flashscreen so that color can be returned to previous color mode
// 29-04-2011 Using POINTERS Huzzah! (never thought that would happen!) 786 lines! 
// 01-05-2011 Once a piece is selected restrict cursor movement to legal destinations 
// 02-05-2011 handle "skipping" of central square (if square beyond it is available)
// 02-05-2011 900 lines of code (including comments) versus 917 (more efficient and more features)
// 02-05-2011 907 lines including refinements
// 02-05-2011 CAN now move pieces (taking turns between attacker/defender) 935 lines
// 04-05-2011 Can now TAKE pieces (but king squares can't yet take part...) 1012 lines
// 04-05-2011 Re-design to save memory/complexity (987 lines)
// 05-05-2011 re-design to save memory/complexity (966 lines)
// 05-05-2011 add the take rule (of King being able to take attackers with the aid of the king squares)
// 06-05-2011 saved a few bytes
// 07-05-2011 saved a few bytes (962 lines, 30311 bytes)
// 10-05-2011 fixed bug in central square Skipping (could not return to self if adjacent to square)
// 10-05-2011 fixed bug allowing defender to select corner square to move!
// 10-05-2011 Continuing glabalization (few bugs sorted)
// 11-05-2011 Finished Globalizing (23639 bytes)
// 13-05-2011 Bug Hunt (23504 bytes) - some tidying up (not 100% byte efficient I'm sure)
// 14-05-2011 Bug in printpossiblemoves resolved (arrow WILL print on corner square if piece is KING)
// 14-05-2011 checkend function to check if king escapes or is captured (not complete) (26815)
// 18-05-2011 developing attacker move (running out of memory! 31213!) hardly started
// 26-05-2011 1st attempt at computer moving piece (since Amiga days! 1990/1991?)
// 31-05-2011 fixed bug in board update position? (phantom attackers!)
// 06-06-2011 incorporated printdestinations into computerturn saving wedges of code
// 08-06-2011 fixed bug in computer targetselection (cantake wasn't resetting to 0)
// 13-06-2011 fixed bug in canbetaken (mostly fixed)
// 15-06-2011 fixed "blind spot"
// 15-06-2011 changed checkend to enable "king surrounded against board edge" facility (works)
// 15-06-2011 The AI will only be for ATTACKERS (for the moment)
// 16-06-2011 various improvements
// 17-06-2011-11-07-2011 various tomfoolery to reduce memory footprint
// 12-07-2011 New variables to check for pieces NSEW of King
// 31-08-2011 prevent attackers occupying corner squares
// 12-10-2011 using 18x18 squares (unfinished...needs LOTS of work!!!)
// 17-10-2011 using new routine to draw tiles
// 18-10-2011 tidied up graphic routines (reduced size of code/executable)
// 20-10-2011 Added expodetile function (playes animation to "kill" a piece) plus pause function (reduces executable size)
// 20-10-2011 made graphics drawing more efficient (saved 300bytes)
// 21-10-2011 added STEELDIAMOND function (create higher target values in a diamond shape around king)
// 24-10-2011 Fixed bug with crashes at south-east corner of board (counter must be SIGNED)
// 24-10-2011 Fixed a bug regarding counter - much stronger AI!
// 24-10-2011 Play again? (needs work)
// 27-10-2011 Fixing the "enemy one space away ENEMY UDATE issue" - set value=50
// 31-10-2011 Added the COMPUTER array (where the computers's pieces can get to)
// 02-11-2011 Added Select gamestyle (human vs computer or human vs human selection)
// 02-11-2011 GONZO! the -50 behaviour is interesting - still crashing though...
// 09-11-2011 LookBackInAnger routine (attackers to check behind their original position)
// 10-11-2011 Now checks to see if a piece can be taken if it stays where it is (needs some finessing)
// 14-11-2011 Improved the above routine
// 16-11-2011 compress routines more (free up some memory)
// 06-12-2011 fixed a couple of bugs (I think)
// 08-12-2011 got rid of baseplayers as unnecessary (it's just a copy of tiles)
// 08-12-2011 shrunk code still further - added calctakeweight routine
// 08-12-2011 shrunk code again (33524) - added enemyzero routine and simplified surrounded routines
// 08-12-2011 found/fixed bug in the previous surrounded routine during simplification
// 10-12-2011 subpacmanx(made smaller), added checkroute function
// 10-12-2011 enemyzero made more effective (and smaller) by zeroing entire enemy array
// 12-12-2011 lots of changes (seperated out "updatetarget" from "printarrowsorblanks"
// 14-12-2011 Test of replacing PACMAN with something else (see updatetarget)
// 20-12-2011 Oh Christ!
// 21-12-2011 Added nifty, don't take a defender if on same plane as king routine...
// 22-12-2011 above, wont take if LAST defender on plane (added inckingattacker etc)
// 22-12-2011 kingsouth/defsouth replaced by arrays (kingattacker, kingdefender)
// 23-12-2011 reduced code, fixed a couple of bugs
// 04-01-2012 introduced calcantake function (also beefed up the hightarget routines "findpiecens/findpieceew")
// 05-01-2012 reduced memory requirements - using unsigned char where possible  (34457)
// 05-01-2012 removed all local variables (replaced with globals) (34338)
// 05-01-2012 got rid of LookBackInAnger (plus some other changes) (33670)
// 06-01-2012 fixed bug in subcanbetaken2
// 07-01-2012 found out why some pieces commit suicide but the fix don't work...perhaps other factors are at work
// 09-01-2012 HUZZAH! Fixed the suicide issue. 
/* from subcanbetaken2...
NEW:	if ((players[takenc][takend]==0)||(enemy[takenc][takend]>ENEMYWEIGHT))
OLD:	if (players[takenc][takend]==0) 
in the OLD condition, if the piece was only one space away, players would always be 1
*/
// 09-01-2012 BOOOOO!!! Above fix causing another issue...will be a bastard to fix.
// 10-01-2012 HUZZAH - above issue resolved (not such a bastard after all but took 24 hrs thinking! 34865)
// 11-01-2012 TITLE SCREEN (36743)
// 12-01-2012 Added RUNES
// 17-01-2012 Made runes work! (37100)
// 27-01-2012 Using my runic1 font for lores text. C code from Dbug.
// 01-02-2012 Finished "fliprunes" routine and title screen (38479)
// 01-02-2012 DBUG replaced printf with the code in text.s saving memory. Loading from $500. Excellent! (37462)
// 02-02-2012 Tided up some of the text displays (saving a few bytes) (37448)
// 02-02-2012 Used partial runic1 font (no lower case chars)
// 02-02-2012 Dbug adds some ASM to replace some c functions
// 03-02-2012 Added checkincroute to replace some repetetive code (35414)
// 03-02-2012 Replaced subpacman3/4 with subpacman5 (35141)
// 04-02-2012 added a few ASM routines of my own
// 03-06th Feb 2012 Various updates in C/ASM to reduce code size (Dbug/Barnsey)
// 06-02-2012 v0.001 Created first proper ASM routine to replace ink(). Help from Dbug/Xeron.
// 07-02-2012 v0.002 Fixed bug in subpacman5 routine (had the flag's inversed which entailed detection of central square)
// 07-02-2012 v0.003 New routine zoneupdate and subzoneupdate to inc targets around edge of board if rows/cols unnocupied
// 08-02-2012 v0.004 Changes to subpacman5 (not sure if working)
// 11-02-2012 v0.005 Fixed bugs in findpiece(). Attacker won't "move out the way" for the king. Minor changes to fonts/messages


