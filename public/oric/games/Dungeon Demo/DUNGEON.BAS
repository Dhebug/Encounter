ßß
 10 PL$(0)="CONAN"    
 15 PL$(1)="ARNOLD"    
 20 PL$(2)="GANDALF"    
 25 PL$(3)="DAROU"      
 30 MS$(1)="WELCOME TO"      
 35 MS$(2)="THE GREAT DUNGEON"     
 40 MS$(3)="OF KYRANDIA"     
 45 CL(0)=20:ML(0)=20
 50 CL(1)=20:ML(1)=20
 55 CL(2)=20:ML(2)=20
 60 CL(3)=20:ML(3)=20
 65 CS(0)=20:MS(0)=20
 70 CS(1)=20:MS(1)=20
 75 CS(2)=20:MS(2)=20 
 80 CS(3)=20:MS(3)=20
 85 CM(0)=20:MM(0)=20
 90 CM(1)=20:MM(1)=20
 95 CM(2)=20:MM(2)=20
 100 CM(3)=20:MM(3)=20
 500 HIRES
 590 '
 591 ' Draw the characters
 592 '
 600 CURSET 0,0,1:DRAW 239,0,1
 610 CURSET 0,61,1:DRAW 239,0,1
 620 CURSET 0,37,1:DRAW 239,0,1 
 630 CURSET 60,0,1:DRAW 0,61,1
 640 CURSET 120,0,1:DRAW 0,61,1
 650 CURSET 180,0,1:DRAW 0,61,1       
 660 CURSET 30,37,1:DRAW 0,24,1
 670 CURSET 90,37,1:DRAW 0,24,1
 680 CURSET 150,37,1:DRAW 0,24,1
 690 CURSET 210,37,1:DRAW 0,24,1  
 800 '
 801 ' Draw the dungeon view
 802 '
 810 CURSET 60,69,1
 820 DRAW 179,0,1:DRAW 0,130,1
 830 DRAW -179,0,1:DRAW 0,-130,1
 1000 '
 1001 ' Display player names
 1002 '
 1010 FOR I=0 TO 3
 1020 X=I*60+30-LEN(PL$(I))*3     
 1030 FOR A=1 TO LEN(PL$(I)) 
 1040 CURSET X+A*6-6,2,0
 1045 A$=MID$(PL$(I),A,1)
 1050 CHAR ASC(A$),0,1   
 1060 NEXT A
 1070 NEXT I
 2000 GOSUB 20000
 10000 '
 10001 ' Game's main loop
 10002 '
 10005 CC=CC+1
 10010 GOSUB 30000:' Gere textes
 10020 IF CC=200 THEN MS$(3)="Le temps passe dans le dongeon..."       
 10030 IF CC>300 THEN MS$(3)="":CC=0
 11111 IF KEY$<>"" THEN GOTO 50000
 11112 GOTO 10000
 20000 '
 20001 ' Display player status
 20002 '
 20010 FOR I=0 TO 3
 20020 X=36+60*I
 20025 CURSET X,10,0:FILL 25,4,16
 20030 N=25*CL(I)/ML(I)      
 20040 CURSET X,10+25-N,0:FILL N,1,17
 20050 N=25*CS(I)/MS(I)
 20055 CURSET X+6,10+25-N,0:FILL N,1,18
 20060 N=25*CM(I)/MM(I)
 20065 CURSET X+12,10+25-N,0:FILL N,1,20
 20100 NEXT
 20200 RETURN
 30000 '
 30001 ' Gestion de la fenetre messages
 30002 '
 30010 IF MS$(3)="" THEN RETURN      
 30020 MS$(0)=MS$(1):MS$(1)=MS$(2)
 30030 MS$(2)=MS$(3):MS$(3)=""
 30035 FOR I=#BF68 TO #BF68+80 STEP 2:DOKE I,DEEK(I+40):NEXT I
 30040 FOR I=#BF68+80 TO #BF68+120 STEP 2:DOKE I,0:NEXT I
 30050 FOR J=1 TO LEN(MS$(2))
 30060 POKE #BF68+80+J-1,ASC(MID$(MS$(2),J,1))
 30070 NEXT J   
 30090 RETURN
 50000 TEXT:LIST 10000-12000    
